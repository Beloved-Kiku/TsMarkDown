# TypeScript泛型  

**泛型的概念是什么?**  

>泛型（Generics）是一种类型参数化的工具，它允许我们编写可以适用于多种类型的可重用代码。使用泛型可以增加代码的灵活性和重用性，并提高类型安全性
>泛型允许我们在定义函数、类或接口时使用参数来表示类型，这些参数在使用时可以被实际的类型替代。通过使用泛型，我们可以编写具有通用性的代码，使其适用于多种不同的类型，而不需要为每种类型编写重复的代码

```ts
//泛型的语法使用尖括号（<>）来表示类型参数，并在函数名或类型后面使用这些尖括号来定义泛型参数。

function identity<T>(arg: T): T {
  return arg;
}
//在上述例子中，<T> 表示泛型参数，arg: T 表示函数参数的类型是泛型类型，返回值的类型也是泛型类型。

//所以在我们调用函数时就可以将函数类型返回的值确定为我们所传入值的类型

let result1 = identity<number>(42); // 返回类型为 number
let result2 = identity<string>('hello'); // 返回类型为 string

//通过使用泛型，我们可以编写具有通用性的函数、类或接口，使其适用于不同类型的数据，同时还能保留类型检查的安全性。泛型可以与其他类型注解、类型推断和类型约束等特性一起使用，以增加代码的灵活性和可读性。
```

**泛型怎么进行约束?**

>某些情况下我们需要对泛型传入的值进行约束得到一个我们所需要的类型此时就需要对泛型进行约束

```ts

function Foo<T>(val:T[]){
    return val
}
Foo([1,2,3])
//此时该函数接收一个数组作为参数 但是如果我们想对别的类型进行限制在这里可以用类型收缩
function Foo<T>(val:T){
    if(typeof val =='string') {xxx}
    if(typeof val =='number'){xxx}
    return val
}

//上述方法中讲到的类型收缩就是运用js中typeof关键字进行类型判断 下面我们使用ts来进行类型收缩

//ts添加约束
interface Itype {
  name?: string;
  age?: number;
  gender?: number;
  work?: boolean;
  arr?: Array<string>;
}
//使用接口继承方式对泛型进行约束
function Bar<T extends Itype>(val: T) {
  //此时传入的值的类型就被我们限制在Itype中
  //我们就可以拿到不同的类型的值进行后续操作
  console.log(val.work);
  console.log(val.name?.toUpperCase());
}
//直接使用interface对参数进行限制
Bar({ work: false });
function Foos(val: Itype) {
  console.log(val.age);
}

```

**看到这里你可能在想泛型约束为什么不直接使用interface进行限制呢?**

```ts
interface Itype {
    length:number
}
function Bar<T extends >(val:T){
    console.log(val.length)
}
Bar('abcd')
//此时我们可以通过定义的length访问到string身上的length方法
```

## 总结

### 泛型约束与接口约束的区别  

> #### 泛型约束
>
> - 泛型约束通过使用类型参数来限制可以传递给泛型函数或泛型类的类型  
> - 使用泛型约束，你可以定义适用于特定类型的操作或属性  
> - 泛型约束允许你在泛型代码中访问特定类型的属性和方法，从而提供更严格的类型安全性  

> #### 接口约束
>
> - 接口约束通过使用接口来定义所需的属性和方法，从而约束传递给函数或类的参数必须符合接口的定义  
> - 使用接口约束，你可以定义一组规范，描述一个对象必须具有的特定属性和方法  
> - 接口约束用于声明和定义对象的形状和结构  
> - 当你想要强制要求传递给函数或类的参数必须具有特定的属性和方法时，接口约束是一个很有用的工具  

### 区别

1. 泛型约束和接口约束在某种程度上是相似的，都用于约束类型。但它们的重点和用途略有不同。
2. 泛型约束主要用于对泛型类型进行限制和操作，允许在泛型代码中访问特定类型的属性和方法。
3. 接口约束主要用于定义对象的形状和结构，以确保传递给函数或类的参数满足特定的属性和方法要求。  
